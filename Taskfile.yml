version: "3"
tasks:
  gen:
    cmds:
      - go generate
  run:
    dir: cmd
    cmds:
      - GOARCH=wasm GOOS=js go build -ldflags=-checklinkname=0 -o web/app.wasm
      - go build -ldflags=-checklinkname=0 -o app
      - ./app
  clear:
    dir: cmd
    cmds:
      - rm -rf web
      - rm -f *.js
      - rm -f *.html
      - rm -f manifest*
      - rm -f app.css
      - rm -rf .git
      - rm -f app
